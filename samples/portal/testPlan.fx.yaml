testSuite:
  testSuiteName: Power Apps Portal Test
  testSuiteDescription: Interact with the Power Apps Portal
  persona: User1
  appLogicalName: NA

  testCases:
    - testCaseName: Query connections
      testCaseDescription: Query connections in environment
      testSteps: |
        = With( 
            { connections: TestEngine.GetConnections() }, 
            Assert(CountRows(connections) > 0, "Connections found");
            Assert(CountRows(Filter(connections, Name = "shared_commondataserviceforapps")) > 0, "Dataverse connection found")
          );

testSettings:
  headless: false
  locale: "en-US"
  recordVideo: true
  extensionModules:
    enable: true
  browserConfigurations:
    - browser: Chromium

environmentVariables:
  users:
    - personaName: User1
      emailKey: NotNeeded
      passwordKey: NotNeeded
