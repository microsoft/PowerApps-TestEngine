test:
  name: Connector App
  description: Verifies that you can mock network requests
  persona: User1
  appLogicalName: new_connectorapp_da583
  networkRequestMocks:
    - requestURL: https://unitedstates-002.azure-apim.net/invoke # requestURL may need update if you are not in the US
      method: POST
      headers:
        x-ms-request-method: GET
      responseDataFile: ../../samples/connector/response.json

  testSteps: |
    = Screenshot("connectorapp_loaded.png");
      // Fill in a city name and do the search
      SetProperty(TextInput1, "Text", "Atlanta");
      Select(Button1);
      Assert(Label4.Text = "You are seeing the mock response", "Validate the output is from the mock");
      Screenshot("connectorapp_end.png");

testSettings:
  recordVideo: true
  browserConfigurations:
    - browser: Chromium

environmentVariables:
  users:
    - personaName: User1
      emailKey: user1Email
      passwordKey: user1Password
